# config/sofle.conf - ПОЛНАЯ конфигурация для батареи
# Основные настройки
CONFIG_ZMK_USB=y
CONFIG_ZMK_BLE=y
CONFIG_ZMK_SPLIT_BLE_ROLE_CENTRAL=y
CONFIG_ZMK_SPLIT=y

# Дисплей
CONFIG_ZMK_DISPLAY=y
CONFIG_ZMK_DISPLAY_STATUS_SCREEN_BUILT_IN=y
CONFIG_ZMK_WIDGET_LAYER_STATUS=y
CONFIG_ZMK_WIDGET_BATTERY_STATUS=y
CONFIG_ZMK_WIDGET_BATTERY_STATUS_SHOW_PERCENTAGE=y

# RGB
CONFIG_ZMK_RGB_UNDERGLOW=y
CONFIG_WS2812_STRIP=y
CONFIG_ZMK_RGB_UNDERGLOW_START_ON_BOOT=y
CONFIG_ZMK_RGB_UNDERGLOW_BRT_START=30
CONFIG_ZMK_RGB_UNDERGLOW_EFF_START=3

# ========== ВАЖНО: Настройки питания от батареи ==========
CONFIG_ZMK_SLEEP=y
CONFIG_ZMK_IDLE_SLEEP_TIMEOUT=300000          # 5 минут до сна
CONFIG_ZMK_IDLE_TIMEOUT=60000                 # 1 минута до idle
CONFIG_ZMK_EXT_POWER=y                        # Разрешить внешнее питание

# Мониторинг батареи
CONFIG_ZMK_SPLIT_BLE_CENTRAL_BATTERY_LEVEL_FETCHING=y
CONFIG_ZMK_SPLIT_BLE_CENTRAL_BATTERY_LEVEL_PROXY=y

# BLE
CONFIG_BT_MAX_CONN=6
CONFIG_BT_CTLR_TX_PWR_PLUS_8=y

# Экономия энергии
CONFIG_ZMK_RGB_UNDERGLOW_AUTO_OFF_IDLE=y      # Выкл RGB при бездействии
CONFIG_ZMK_RGB_UNDERGLOW_EXT_POWER=y          # Питание RGB от батареи
CONFIG_ZMK_USB_LOGGING=n                      # Отключить логи для экономии